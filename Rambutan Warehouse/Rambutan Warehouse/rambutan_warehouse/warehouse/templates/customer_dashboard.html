{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title>Customer Dashboard | ReArt Vault</title>
  <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <!-- Boxicons CDN Link -->
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">

  <!-- Additional CSS -->
  <link rel="stylesheet" href="{% static 'css/open-iconic-bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/animate.css' %}">
  <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
  <link rel="stylesheet" href="{% static 'css/aos.css' %}">
  <link rel="stylesheet" href="{% static 'css/ionicons.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css' %}">
  <link rel="stylesheet" href="{% static 'css/jquery.timepicker.css' %}">
  <link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
  <link rel="stylesheet" href="{% static 'css/icomoon.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

</head>

<style>
/* Additional styles for the Customer Dashboard */
.sidebar {
  width: 250px;
  background-color: #2c3e50;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  transition: all 0.3s;
}

.sidebar.active {
  width: 80px;
}

.logo-details {
  display: flex;
  align-items: center;
  padding: 20px;
  color: #fff;
  font-size: 20px;
}

.nav-links {
  margin-top: 20px;
}

.nav-links li {
  list-style: none;
}

.nav-links a {
  display: flex;
  align-items: center;
  padding: 15px;
  color: #fff;
  text-decoration: none;
  font-size: 18px;
}

.nav-links a.active {
  background-color: #1abc9c;
}

.nav-links a:hover {
  background-color: #16a085;
}

.sidebar-button {
  display: flex;
  align-items: center;
  padding: 20px;
}

.home-section {
  margin-left: 250px;
  padding: 20px;
}

.home-content {
  padding: 20px;
}

.form-section {
  padding: 20px;
  background-color: #f9f9f9;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  margin: 20px 0;
}

.form-section h2 {
  font-size: 20px;
  margin-bottom: 10px;
  color: #333;
}

.input-group {
  margin-bottom: 15px;
}

.input-group label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
  color: #333;
}

.input-group input, 
.input-group select {
  width: calc(100% - 20px);
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  font-size: 14px;
}

.submit-button {
  background-color: #28a745;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
}

.submit-button:hover {
  background-color: #218838;
}

.profile-details {
  display: flex;
  align-items: center;
  font-size: 20px;
}

.profile-details img {
  border-radius: 50%;
  width: 50px;
  height: 50px;
  margin-right: 10px;
}

</style>

<body>
  <div class="sidebar">
    <div class="logo-details">
      <span class="logo_name">Customer Dashboard</span>
    </div>
    <ul class="nav-links">
      <li>
        <a href="{% url 'customer_dashboard' %}" class="active">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">Dashboard</span>
        </a>
      </li>
      <li>
        <a href="{% url 'profile_view' %}">
          <i class='bx bx-user'></i>
          <span class="links_name">View Profile</span>
        </a>
      </li>
      <li>
        <a href="{% url 'products_browse' %}">
          <i class='bx bx-cart'></i>
          <span class="links_name">Browse Products</span>
        </a>
      </li>
      <li>
        <a href="{% url 'wishlist' %}">
          <i class='bx bx-heart'></i>
          <span class="links_name">Wishlisted Items</span>
        </a>
      </li>
      <li>
        <a href="{% url 'checkout' %}">
          <i class='bx bx-shopping-bag'></i>
          <span class="links_name">Cart</span>
        </a>
      </li>
      <li class="log_out">
        <a href="{% url 'logout' %}">
          <i class='bx bx-log-out'></i>
          <span class="links_name">Log out</span>
        </a>
      </li>
    </ul>
  </div>

  <section class="home-section">
    <nav>
      <div class="sidebar-button">
        <i class='bx bx-menu sidebarBtn'></i>
        <span class="dashboard">Dashboard</span>
      </div>
      <div class="search-box">
        <input type="text" placeholder="Search products...">
        <i class='bx bx-search'></i>
      </div>
      <div class="profile-details">
        {% if customer.profile_pic %}
        <img src="{{ customer.profile_pic.url }}" alt="">
        {% endif %}
        <span class="admin_name">Hi {{ user.name }}</span>
        <i class='bx bx-chevron-down'></i>
        <ul class="dropdown-menu">
          <li><a href="{% url 'profile_view' %}">View Profile</a></li>
          <!--<li><a href="">Edit Profile</a></li> -->
          <li><a href="{% url 'logout' %}">Logout</a></li>
        </ul>
      </div>
    </nav>

    <div class="home-content">
      <!-- Main content for customer dashboard -->
      <div class="form-section">
        <h2>Manage Your Account</h2>
        <p>Welcome to your dashboard, {{ user.username }}! Here you can view and manage your profile, browse products, and keep track of your wishlisted and carted items.</p>
      </div>

      <!-- Example: Products List -->
      <div class="form-section">
        <h2>Your Cart</h2>
        <ul>
          {% for product in cart %}
          <li>{{ product.name }} - {{ product.quantity }} x {{ product.price }}</li>
          {% empty %}
          <li>Your cart is empty.</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </section>

  <script>
    let sidebar = document.querySelector(".sidebar");
    let sidebarBtn = document.querySelector(".sidebarBtn");
    sidebarBtn.onclick = function () {
      sidebar.classList.toggle("active");
      if (sidebar.classList.contains("active")) {
        sidebarBtn.classList.replace("bx-menu", "bx-menu-alt-right");
      } else {
        sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
      }
    }
  </script>
</body>

</html>
